{"remainingRequest":"C:\\Users\\kshma\\Documents\\Vue\\webservice\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\kshma\\Documents\\Vue\\webservice\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\kshma\\Documents\\Vue\\webservice\\src\\store\\modules\\login.js","dependencies":[{"path":"C:\\Users\\kshma\\Documents\\Vue\\webservice\\src\\store\\modules\\login.js","mtime":1599455852240},{"path":"C:\\Users\\kshma\\Documents\\Vue\\webservice\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\kshma\\Documents\\Vue\\webservice\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\kshma\\Documents\\Vue\\webservice\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHJvdXRlciBmcm9tICdAL3JvdXRlci9pbmRleCc7CmV4cG9ydCBkZWZhdWx0IHsKICAvKioNCiAgICog7ZWY6riwIO2VreuqqeuTpOyXkCBuYW1lc3BhY2Xrpbwg7IKs7Jqp7ZWp64uI64ukLg0KICAgKiBbZ2V0dGVycywgYWN0aW9ucywgbXV0YWlvbnNdDQogICAqLwogIG5hbWVzcGFjZWQ6IHRydWUsCgogIC8qKg0KICAgKiBjb21wb25lbnTsnZggZGF0YeyZgCDsnKDsgqztlZwg7Jet7ZWg7J2EIO2VqeuLiOuLpC4NCiAgICog7Lu07Y+s64SM7Yq4IOuCtOyXkOyEnCDssLjsobDrsKnrspUNCiAgICogMS4gdGhpcy4kc3RvcmUuc3RhdGUuc2FtcGxlLnRvZG9zDQogICAqIDIuIGNvbXB1dGVkOiB7IC4uLm1hcFN0YXRlKCdzYW1wbGUnLCBbJ3RvZG9zJ10pIH0NCiAgICovCiAgc3RhdGU6IHsKICAgIGxvZ2luUmVzdWx0OiAnJywKICAgIGxvZ2luVG9rZW46ICcnCiAgfSwKCiAgLyoqDQogICAqIGNvbXBvbmVudOydmCBjb21wdXRlZOyZgCDsnKDsgqztlZwg7Jet7ZWg7J2EIO2VqeuLiOuLpC4NCiAgICog7Lu07Y+s64SM7Yq4IOuCtOyXkOyEnCDssLjsobDrsKnrspUNCiAgICogY29tcHV0ZWQ6IHsgLi4ubWFwR2V0dGVycygnc2FtcGxlJywgWyd0b2Rvc0NvdW50J10pIH0NCiAgICovCiAgZ2V0dGVyczogewogICAgZ2V0TG9naW5SZXN1bHQ6IGZ1bmN0aW9uIGdldExvZ2luUmVzdWx0KHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5sb2dpblJlc3VsdDsKICAgIH0KICB9LAoKICAvKioNCiAgICogY29tcG9uZW507J2YIG1ldGhvZHPsmYAg7Jyg7IKs7ZWcIOyXre2VoOydhCDtlanri4jri6QuDQogICAqIHN0YXRl66W8IOuzgOqyve2VoCDrlYwg7IKs7Jqp7ZWp64uI64ukLg0KICAgKiB0aGlzLiRzdG9yZS5jb21taXQoJ3NhbXBsZS9zZXRUb2RvcycsIFtwYXlsb2FkXSkNCiAgICovCiAgbXV0YXRpb25zOiB7CiAgICAvKioNCiAgICAgKiDroZzqt7jsnbgNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzdGF0ZQ0KICAgICAqIEBwYXJhbSB7YXJyYXl9IHBheWxvYWQNCiAgICAgKi8KICAgIExvZ2luOiBmdW5jdGlvbiBMb2dpbihzdGF0ZSwgcGF5bG9hZCkgewogICAgICBjb25zb2xlLmxvZygnIyMgTG9naW4gIyMnKTsKICAgICAgYXhpb3MucG9zdCgnaHR0cDovLzE5Mi4xNjguMC41OjkwOTAvd2Vic2VydmljZS9Mb2dpbicsIHsKICAgICAgICBtZW1iZXJfaWQ6IHBheWxvYWQuaWQsCiAgICAgICAgbWVtYmVyX3Bhc3N3b3JkOiBwYXlsb2FkLnBhc3N3b3JkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgIGlmIChyZXN1bHQuZGF0YVswXSA9PSAwKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdC5kYXRhKTsKICAgICAgICAgICAgc3RhdGUubG9naW5SZXN1bHQgPSAndHJ1ZSc7CiAgICAgICAgICAgIHN0YXRlLmxvZ2luVG9rZW4gPSByZXN1bHQuZGF0YVsxXTsKICAgICAgICAgICAgY29uc29sZS5sb2coc3RhdGUubG9naW5SZXN1bHQpOwogICAgICAgICAgICBjb25zb2xlLmxvZyhzdGF0ZS5sb2dpblRva2VuKTsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2xvZ2luQXV0aCcsIHN0YXRlLmxvZ2luUmVzdWx0KTsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2xvZ2luVG9rZW4nLCBzdGF0ZS5sb2dpblRva2VuKTsKICAgICAgICAgICAgYWxlcnQoJ+uhnOq3uOyduCDshLHqs7UnKTsKICAgICAgICAgICAgcm91dGVyLnB1c2goJ01lbW9BcHAnKTsKICAgICAgICAgIH0gZWxzZSBpZiAocmVzdWx0LmRhdGFbMF0gPT0gMSkgewogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQuZGF0YSk7CiAgICAgICAgICAgIHN0YXRlLmxvZ2luUmVzdWx0ID0gZmFsc2U7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHN0YXRlLmxvZ2luUmVzdWx0KTsKICAgICAgICAgICAgYWxlcnQoIuyVhOydtOuUlCDrmJDripQg67mE67CA67KI7Zi46rCAIOydvOy5mO2VmOyngCDslYrsirXri4jri6QuIik7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0KCLroZzqt7jsnbgg7Iuk7Yyo7ZWY7JiA7Iq164uI64ukLiDqtIDrpqzsnpDsl5Dqsowg66y47J2Y7ZW07KO87IS47JqULiIpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBhbGVydCgiRXJyb3IgOiDqtIDrpqzsnpDsl5Dqsowg66y47J2Y7ZW07KO87IS47JqULiIpOwogICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICB9KTsKICAgIH0sCgogICAgLyoqDQogICAgICog66Gc6re47JWE7JuDDQogICAgICoNCiAgICAgKiBAcGFyYW0ge29iamVjdH0gc3RhdGUNCiAgICAgKiBAcGFyYW0ge2FycmF5fSBwYXlsb2FkDQogICAgICovCiAgICBMb2dvdXQ6IGZ1bmN0aW9uIExvZ291dChzdGF0ZSwgcGF5bG9hZCkgewogICAgICBjb25zb2xlLmxvZygnIyMgTG9nb3V0ICMjJyk7CiAgICAgIGNvbnNvbGUubG9nKHBheWxvYWQuTWVtYmVyVG9rZW4pOwogICAgICBheGlvcy5wb3N0KCdodHRwOi8vMTkyLjE2OC4wLjU6OTA5MC93ZWJzZXJ2aWNlL0xvZ291dCcsIHsKICAgICAgICBtZW1iZXJfdG9rZW46IHBheWxvYWQuTWVtYmVyVG9rZW4KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTsKCiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgaWYgKHJlc3VsdC5kYXRhID09PSAwKSB7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdsb2dpbkF1dGgnKTsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2xvZ2luVG9rZW4nKTsKICAgICAgICAgICAgc3RhdGUubG9naW5SZXN1bHQgPSAnZmFsc2UnOwogICAgICAgICAgICBzdGF0ZS5sb2dpblRva2VuID0gJyc7CiAgICAgICAgICAgIGFsZXJ0KCLroZzqt7jslYTsm4PsnYQg7JmE66OM7ZWY7JiA7Iq164uI64ukLiIpOwogICAgICAgICAgICByb3V0ZXIucHVzaCgnTG9naW4nKTsKICAgICAgICAgIH0gZWxzZSBpZiAocmVzdWx0LmRhdGEgPT09IDEwMCkgewogICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnbG9naW5BdXRoJyk7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdsb2dpblRva2VuJyk7CiAgICAgICAgICAgIHN0YXRlLmxvZ2luUmVzdWx0ID0gZmFsc2U7CiAgICAgICAgICAgIHN0YXRlLmxvZ2luVG9rZW4gPSAnJzsKICAgICAgICAgICAgYWxlcnQoIuyEuOyFmOydtCDrp4zro4zrkJjsl4jsirXri4jri6QuIOuLpOyLnCDroZzqt7jsnbjsnYQg7ZW07KO87IS47JqULiIpOwogICAgICAgICAgICByb3V0ZXIucHVzaCgnTG9naW4nKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGFsZXJ0KCfroZzqt7jslYTsm4Mg7Iuk7YyoLiDqtIDrpqzsnpDsl5Dqsowg66y47J2Y7ZW07KO87IS47JqULicpOwogICAgICAgICAgICByb3V0ZXIucHVzaCgnTG9naW4nKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgYWxlcnQoIkVycm9yIDog6rSA66as7J6Q7JeQ6rKMIOusuOydmO2VtOyjvOyEuOyalC4iKTsKICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgfSk7CiAgICB9CiAgfSwKCiAgLyoqDQogICAqIGNvbXBvbmVudOydmCBtZXRob2TsmYAg7Jyg7IKs7ZWcIOyXre2VoOydhCDtlanri4jri6QuDQogICAqIOu5hOuPmeq4sCDsspjrpqzrpbwg7ZWp64uI64ukLg0KICAgKiB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnc2FtcGxlL2dldFRvZG9zLCBbcGF5bG9hZF0pDQogICAqLwogIGFjdGlvbnM6IHt9Cn07"},{"version":3,"sources":["C:/Users/kshma/Documents/Vue/webservice/src/store/modules/login.js"],"names":["axios","router","namespaced","state","loginResult","loginToken","getters","getLoginResult","mutations","Login","payload","console","log","post","member_id","id","member_password","password","then","result","status","data","localStorage","setItem","alert","push","catch","e","Logout","MemberToken","member_token","removeItem","actions"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport router from '@/router/index'\r\n\r\nexport default {\r\n    /**\r\n     * 하기 항목들에 namespace를 사용합니다.\r\n     * [getters, actions, mutaions]\r\n     */\r\n    namespaced: true,\r\n  \r\n    /**\r\n     * component의 data와 유사한 역할을 합니다.\r\n     * 컴포넌트 내에서 참조방법\r\n     * 1. this.$store.state.sample.todos\r\n     * 2. computed: { ...mapState('sample', ['todos']) }\r\n     */\r\n    state: {\r\n      loginResult: '',\r\n      loginToken: ''\r\n    },  \r\n  \r\n    /**\r\n     * component의 computed와 유사한 역할을 합니다.\r\n     * 컴포넌트 내에서 참조방법\r\n     * computed: { ...mapGetters('sample', ['todosCount']) }\r\n     */\r\n    getters: {\r\n      getLoginResult: state => {\r\n        return state.loginResult\r\n      }\r\n    },\r\n  \r\n    /**\r\n     * component의 methods와 유사한 역할을 합니다.\r\n     * state를 변경할 때 사용합니다.\r\n     * this.$store.commit('sample/setTodos', [payload])\r\n     */\r\n    mutations: {\r\n    /**\r\n     * 로그인\r\n     *\r\n     * @param {object} state\r\n     * @param {array} payload\r\n     */\r\n    Login (state, payload) {\r\n      console.log('## Login ##')\r\n      axios.post('http://192.168.0.5:9090/webservice/Login', { \r\n        member_id: payload.id,\r\n        member_password: payload.password\r\n      })\r\n      .then((result) => {\r\n          if (result.status === 200) {\r\n            if (result.data[0] == 0 ) {\r\n              console.log(result.data)\r\n              state.loginResult = 'true'\r\n              state.loginToken = result.data[1]\r\n              console.log(state.loginResult)\r\n              console.log(state.loginToken)\r\n              localStorage.setItem('loginAuth', state.loginResult)\r\n              localStorage.setItem('loginToken', state.loginToken)\r\n              alert('로그인 성공')\r\n              router.push('MemoApp')\r\n            } else if (result.data[0] == 1) {\r\n              console.log(result.data)\r\n              state.loginResult = false\r\n              console.log(state.loginResult)\r\n              alert(\"아이디 또는 비밀번호가 일치하지 않습니다.\")\r\n            }\r\n          } else {\r\n            alert(\"로그인 실패하였습니다. 관리자에게 문의해주세요.\")\r\n          }\r\n      })\r\n      .catch(e => {\r\n          alert(\"Error : 관리자에게 문의해주세요.\")\r\n          console.log(e)\r\n      }) \r\n    },\r\n  /**\r\n   * 로그아웃\r\n   *\r\n   * @param {object} state\r\n   * @param {array} payload\r\n   */\r\n    Logout (state, payload) {\r\n      console.log('## Logout ##')\r\n      console.log(payload.MemberToken)\r\n      axios.post('http://192.168.0.5:9090/webservice/Logout', { \r\n          member_token: payload.MemberToken,\r\n        })\r\n        .then((result) => {\r\n          console.log(result)\r\n          if (result.status === 200) {\r\n            if (result.data === 0) {\r\n              localStorage.removeItem('loginAuth');\r\n              localStorage.removeItem('loginToken');\r\n              state.loginResult = 'false'\r\n              state.loginToken = ''\r\n              alert(\"로그아웃을 완료하였습니다.\")\r\n              router.push('Login')\r\n            } else if ( result.data === 100 ) {\r\n              localStorage.removeItem('loginAuth');\r\n              localStorage.removeItem('loginToken');\r\n              state.loginResult = false\r\n              state.loginToken = ''\r\n              alert(\"세션이 만료되었습니다. 다시 로그인을 해주세요.\")\r\n              router.push('Login')\r\n            } else {\r\n              alert('로그아웃 실패. 관리자에게 문의해주세요.')\r\n              router.push('Login')\r\n            }\r\n          }\r\n        })\r\n        .catch(e => {\r\n            alert(\"Error : 관리자에게 문의해주세요.\")\r\n            console.log(e)\r\n        }) \r\n    }\r\n  },\r\n  \r\n    /**\r\n     * component의 method와 유사한 역할을 합니다.\r\n     * 비동기 처리를 합니다.\r\n     * this.$store.dispatch('sample/getTodos, [payload])\r\n     */\r\n    actions: {}\r\n  }\r\n  "]}]}
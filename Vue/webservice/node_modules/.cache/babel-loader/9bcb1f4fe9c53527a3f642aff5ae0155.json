{"remainingRequest":"C:\\Users\\kshma\\Documents\\Vue\\webservice\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\kshma\\Documents\\Vue\\webservice\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\kshma\\Documents\\Vue\\webservice\\src\\store\\modules\\login.js","dependencies":[{"path":"C:\\Users\\kshma\\Documents\\Vue\\webservice\\src\\store\\modules\\login.js","mtime":1598605194922},{"path":"C:\\Users\\kshma\\Documents\\Vue\\webservice\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\kshma\\Documents\\Vue\\webservice\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\kshma\\Documents\\Vue\\webservice\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHJvdXRlciBmcm9tICdAL3JvdXRlci9pbmRleC5qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICAvKioNCiAgICog7ZWY6riwIO2VreuqqeuTpOyXkCBuYW1lc3BhY2Xrpbwg7IKs7Jqp7ZWp64uI64ukLg0KICAgKiBbZ2V0dGVycywgYWN0aW9ucywgbXV0YWlvbnNdDQogICAqLwogIG5hbWVzcGFjZWQ6IHRydWUsCgogIC8qKg0KICAgKiBjb21wb25lbnTsnZggZGF0YeyZgCDsnKDsgqztlZwg7Jet7ZWg7J2EIO2VqeuLiOuLpC4NCiAgICog7Lu07Y+s64SM7Yq4IOuCtOyXkOyEnCDssLjsobDrsKnrspUNCiAgICogMS4gdGhpcy4kc3RvcmUuc3RhdGUuc2FtcGxlLnRvZG9zDQogICAqIDIuIGNvbXB1dGVkOiB7IC4uLm1hcFN0YXRlKCdzYW1wbGUnLCBbJ3RvZG9zJ10pIH0NCiAgICovCiAgc3RhdGU6IHsKICAgIGxvZ2luUmVzdWx0OiAnJywKICAgIGxvZ2luVG9rZW46ICcnCiAgfSwKCiAgLyoqDQogICAqIGNvbXBvbmVudOydmCBjb21wdXRlZOyZgCDsnKDsgqztlZwg7Jet7ZWg7J2EIO2VqeuLiOuLpC4NCiAgICog7Lu07Y+s64SM7Yq4IOuCtOyXkOyEnCDssLjsobDrsKnrspUNCiAgICogY29tcHV0ZWQ6IHsgLi4ubWFwR2V0dGVycygnc2FtcGxlJywgWyd0b2Rvc0NvdW50J10pIH0NCiAgICovCiAgZ2V0dGVyczogewogICAgZ2V0bG9naW5Ub2tlbjogZnVuY3Rpb24gZ2V0bG9naW5Ub2tlbihzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUubG9naW5Ub2tlbjsKICAgIH0KICB9LAoKICAvKioNCiAgICogY29tcG9uZW507J2YIG1ldGhvZHPsmYAg7Jyg7IKs7ZWcIOyXre2VoOydhCDtlanri4jri6QuDQogICAqIHN0YXRl66W8IOuzgOqyve2VoCDrlYwg7IKs7Jqp7ZWp64uI64ukLg0KICAgKiB0aGlzLiRzdG9yZS5jb21taXQoJ3NhbXBsZS9zZXRUb2RvcycsIFtwYXlsb2FkXSkNCiAgICovCiAgbXV0YXRpb25zOiB7CiAgICAvKioNCiAgICAgKiDroZzqt7jsnbgNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzdGF0ZQ0KICAgICAqIEBwYXJhbSB7YXJyYXl9IHBheWxvYWQNCiAgICAgKi8KICAgIExvZ2luOiBmdW5jdGlvbiBMb2dpbihzdGF0ZSwgcGF5bG9hZCkgewogICAgICBjb25zb2xlLmxvZygnIyMgTG9naW4gIyMnKTsKICAgICAgYXhpb3MucG9zdCgnaHR0cDovL2xvY2FsaG9zdDo5MDkwL3dlYnNlcnZpY2UvTG9naW4nLCB7CiAgICAgICAgbWVtYmVyX2lkOiBwYXlsb2FkLmlkLAogICAgICAgIG1lbWJlcl9wYXNzd29yZDogcGF5bG9hZC5wYXNzd29yZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICBpZiAocmVzdWx0LmRhdGFbMF0gPT0gMCkgewogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQuZGF0YSk7CiAgICAgICAgICAgIHN0YXRlLmxvZ2luUmVzdWx0ID0gJ3RydWUnOwogICAgICAgICAgICBzdGF0ZS5sb2dpblRva2VuID0gcmVzdWx0LmRhdGFbMV07CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHN0YXRlLmxvZ2luUmVzdWx0KTsKICAgICAgICAgICAgY29uc29sZS5sb2coc3RhdGUubG9naW5Ub2tlbik7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdsb2dpbkF1dGgnLCBzdGF0ZS5sb2dpblJlc3VsdCk7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdsb2dpblRva2VuJywgc3RhdGUubG9naW5Ub2tlbik7CiAgICAgICAgICAgIGFsZXJ0KCfroZzqt7jsnbgg7ISx6rO1Jyk7CiAgICAgICAgICAgIHJvdXRlci5wdXNoKCcvTWVtb0FwcCcpOwogICAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQuZGF0YVswXSA9PSAxKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdC5kYXRhKTsKICAgICAgICAgICAgc3RhdGUubG9naW5SZXN1bHQgPSBmYWxzZTsKICAgICAgICAgICAgY29uc29sZS5sb2coc3RhdGUubG9naW5SZXN1bHQpOwogICAgICAgICAgICBhbGVydCgi7JWE7J2065SUIOuYkOuKlCDruYTrsIDrsojtmLjqsIAg7J287LmY7ZWY7KeAIOyViuyKteuLiOuLpC4iKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQoIuuhnOq3uOyduCDsi6TtjKjtlZjsmIDsirXri4jri6QuIOq0gOumrOyekOyXkOqyjCDrrLjsnZjtlbTso7zshLjsmpQuIik7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIGFsZXJ0KCJFcnJvciA6IOq0gOumrOyekOyXkOqyjCDrrLjsnZjtlbTso7zshLjsmpQuIik7CiAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgIH0pOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDroZzqt7jslYTsm4MNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzdGF0ZQ0KICAgICAqIEBwYXJhbSB7YXJyYXl9IHBheWxvYWQNCiAgICAgKi8KICAgIExvZ291dDogZnVuY3Rpb24gTG9nb3V0KHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIGNvbnNvbGUubG9nKCcjIyBMb2dvdXQgIyMnKTsKICAgICAgY29uc29sZS5sb2cocGF5bG9hZC5NZW1iZXJUb2tlbik7CiAgICAgIGF4aW9zLnBvc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6OTA5MC93ZWJzZXJ2aWNlL0xvZ291dCcsIHsKICAgICAgICBtZW1iZXJfdG9rZW46IHBheWxvYWQuTWVtYmVyVG9rZW4KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTsKCiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgaWYgKHJlc3VsdC5kYXRhID09PSAwKSB7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdsb2dpbkF1dGgnKTsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2xvZ2luVG9rZW4nKTsKICAgICAgICAgICAgc3RhdGUubG9naW5SZXN1bHQgPSAndHJ1ZSc7CiAgICAgICAgICAgIHN0YXRlLmxvZ2luVG9rZW4gPSByZXN1bHQuZGF0YVsxXTsKICAgICAgICAgICAgYWxlcnQoIuuhnOq3uOyVhOybg+ydhCDsmYTro4ztlZjsmIDsirXri4jri6QuIik7CiAgICAgICAgICAgIHJvdXRlci5nbygnL0xvZ2luJyk7CiAgICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdC5kYXRhID09PSAxMDApIHsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2xvZ2luQXV0aCcpOwogICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnbG9naW5Ub2tlbicpOwogICAgICAgICAgICBzdGF0ZS5sb2dpblJlc3VsdCA9ICd0cnVlJzsKICAgICAgICAgICAgc3RhdGUubG9naW5Ub2tlbiA9IHJlc3VsdC5kYXRhWzFdOwogICAgICAgICAgICBhbGVydCgi7IS47IWY7J20IOunjOujjOuQmOyXiOyKteuLiOuLpC4g64uk7IucIOuhnOq3uOyduOydhCDtlbTso7zshLjsmpQuIik7CiAgICAgICAgICAgIHJvdXRlci5wdXNoKCcvbG9naW4nKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGFsZXJ0KCfroZzqt7jslYTsm4Mg7Iuk7YyoLiDqtIDrpqzsnpDsl5Dqsowg66y47J2Y7ZW07KO87IS47JqULicpOwogICAgICAgICAgICByb3V0ZXIucHVzaCgnL2xvZ2luJyk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIGFsZXJ0KCJFcnJvciA6IOq0gOumrOyekOyXkOqyjCDrrLjsnZjtlbTso7zshLjsmpQuIik7CiAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgIH0pOwogICAgfQogIH0sCgogIC8qKg0KICAgKiBjb21wb25lbnTsnZggbWV0aG9k7JmAIOycoOyCrO2VnCDsl63tlaDsnYQg7ZWp64uI64ukLg0KICAgKiDruYTrj5nquLAg7LKY66as66W8IO2VqeuLiOuLpC4NCiAgICogdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NhbXBsZS9nZXRUb2RvcywgW3BheWxvYWRdKQ0KICAgKi8KICBhY3Rpb25zOiB7fQp9Ow=="},{"version":3,"sources":["C:/Users/kshma/Documents/Vue/webservice/src/store/modules/login.js"],"names":["axios","router","namespaced","state","loginResult","loginToken","getters","getloginToken","mutations","Login","payload","console","log","post","member_id","id","member_password","password","then","result","status","data","localStorage","setItem","alert","push","catch","e","Logout","MemberToken","member_token","removeItem","go","actions"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport router from '@/router/index.js'\r\n\r\nexport default {\r\n    /**\r\n     * 하기 항목들에 namespace를 사용합니다.\r\n     * [getters, actions, mutaions]\r\n     */\r\n    namespaced: true,\r\n  \r\n    /**\r\n     * component의 data와 유사한 역할을 합니다.\r\n     * 컴포넌트 내에서 참조방법\r\n     * 1. this.$store.state.sample.todos\r\n     * 2. computed: { ...mapState('sample', ['todos']) }\r\n     */\r\n    state: {\r\n      loginResult: '',\r\n      loginToken: ''\r\n    },\r\n  \r\n    /**\r\n     * component의 computed와 유사한 역할을 합니다.\r\n     * 컴포넌트 내에서 참조방법\r\n     * computed: { ...mapGetters('sample', ['todosCount']) }\r\n     */\r\n    getters: {\r\n      getloginToken: state => {\r\n        return state.loginToken\r\n      }\r\n    },\r\n  \r\n    /**\r\n     * component의 methods와 유사한 역할을 합니다.\r\n     * state를 변경할 때 사용합니다.\r\n     * this.$store.commit('sample/setTodos', [payload])\r\n     */\r\n    mutations: {\r\n    /**\r\n     * 로그인\r\n     *\r\n     * @param {object} state\r\n     * @param {array} payload\r\n     */\r\n    Login (state, payload) {\r\n      console.log('## Login ##')\r\n      axios.post('http://localhost:9090/webservice/Login', { \r\n        member_id: payload.id,\r\n        member_password: payload.password\r\n      })\r\n      .then((result) => {\r\n          if (result.status === 200) {\r\n            if (result.data[0] == 0 ) {\r\n              console.log(result.data)\r\n              state.loginResult = 'true'\r\n              state.loginToken = result.data[1]\r\n              console.log(state.loginResult)\r\n              console.log(state.loginToken)\r\n              localStorage.setItem('loginAuth', state.loginResult)\r\n              localStorage.setItem('loginToken', state.loginToken)\r\n              alert('로그인 성공')\r\n              router.push('/MemoApp')\r\n            } else if (result.data[0] == 1) {\r\n              console.log(result.data)\r\n              state.loginResult = false\r\n              console.log(state.loginResult)\r\n              alert(\"아이디 또는 비밀번호가 일치하지 않습니다.\")\r\n            }\r\n          } else {\r\n            alert(\"로그인 실패하였습니다. 관리자에게 문의해주세요.\")\r\n          }\r\n      })\r\n      .catch(e => {\r\n          alert(\"Error : 관리자에게 문의해주세요.\")\r\n          console.log(e)\r\n      }) \r\n    },\r\n  /**\r\n   * 로그아웃\r\n   *\r\n   * @param {object} state\r\n   * @param {array} payload\r\n   */\r\n    Logout (state, payload) {\r\n      console.log('## Logout ##')\r\n      console.log(payload.MemberToken)\r\n      axios.post('http://localhost:9090/webservice/Logout', { \r\n          member_token: payload.MemberToken,\r\n        })\r\n        .then((result) => {\r\n          console.log(result)\r\n          if (result.status === 200) {\r\n            if (result.data === 0) {\r\n              localStorage.removeItem('loginAuth');\r\n              localStorage.removeItem('loginToken');\r\n              state.loginResult = 'true'\r\n              state.loginToken = result.data[1]\r\n              alert(\"로그아웃을 완료하였습니다.\")\r\n              router.go('/Login')\r\n            } else if ( result.data === 100 ) {\r\n              localStorage.removeItem('loginAuth');\r\n              localStorage.removeItem('loginToken');\r\n              state.loginResult = 'true'\r\n              state.loginToken = result.data[1]\r\n              alert(\"세션이 만료되었습니다. 다시 로그인을 해주세요.\")\r\n              router.push('/login')\r\n            } else {\r\n              alert('로그아웃 실패. 관리자에게 문의해주세요.')\r\n              router.push('/login')\r\n            }\r\n          }\r\n        })\r\n        .catch(e => {\r\n            alert(\"Error : 관리자에게 문의해주세요.\")\r\n            console.log(e)\r\n        }) \r\n    }\r\n  },\r\n  \r\n    /**\r\n     * component의 method와 유사한 역할을 합니다.\r\n     * 비동기 처리를 합니다.\r\n     * this.$store.dispatch('sample/getTodos, [payload])\r\n     */\r\n    actions: {}\r\n  }\r\n  "]}]}